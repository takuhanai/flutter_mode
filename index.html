<!DOCTYPE html>
<html lang="ja">
    <head>
		<meta charset="UTF-8">
        <title>Mode Viewer</title>
        <script src="js/script.js" type="text/javascript"></script>
        <script src="js/minMatrixb.js" type="text/javascript"></script>

        <script id="vs" type="x-shader/x-vertex">
			attribute vec3  position;
			attribute vec3  mode_amp;
			attribute vec3  cmode_r;
			attribute vec3  cmode_i;
			uniform   vec4  color;
			uniform   mat4  mvpMatrix;
			uniform   float phase;
			uniform   float amp;
			uniform   int mode_type;
			varying   vec4  vColor;
			void main(void){
				vColor = color;
				vec3 modeShape;
				if (mode_type == 0) {
					modeShape = position + mode_amp * amp * sin(phase);
				} else if (mode_type == 1) {
					vec3 cmode_amp = sqrt(cmode_r * cmode_r + cmode_i * cmode_i);
					vec3 cmode_phase = atan(cmode_r, cmode_i);
					modeShape = position + cmode_amp * amp * sin(phase + cmode_phase);
				}
				gl_Position    = mvpMatrix * vec4(modeShape, 1.0);
			}
        </script>
        <script id="fs" type="x-shader/x-fragment">
			precision mediump float;
			varying vec4      vColor;
			void main(void){
				gl_FragColor = vColor;
			}
        </script>
		<link href="https://fonts.googleapis.com/css?family=Paytone+One|Source+Sans+Pro|Pattaya|Lakki+Reddy:300,700,400,400" rel="stylesheet">
		<link rel="stylesheet" href="style.css">
    </head>
    <body>
		<div class="site">
			<a href="#">Mode Viewer</a>
		</div>

		<span class="hbar"></span>
		<canvas id="canvas" class="webgl" width="900" height="540"></canvas>
		<div class="news">
			<h2>使い方</h2>
			<ul>
				<li>マウスをドラッグすると、橋を回転させられます。</li>
				<li>「n」キーで実固有振動モードを表示します。</li>
				<li>「f」キーでフラッター時の複素固有振動モードを表示します。</li>
				</ul>
			</div>
		
		<div class="copyright">
			<p>Copyright &copy; Taku Hanai</p>
		</div>
		<div class="debugger" id="text"> </div>
    </body>
</html>
